
<div class="container-fluid text-center">
  <div class="row content">
    <div class="col-sm-3 sidenav">
       <div >
          <img ng-click="vm.goProfile(vm.Lesson.UserName.id)" class="lessonProf img-thumbnail" src="{{vm.picture}}" />
          <p>Instructor: <a ng-click="vm.goProfile(vm.Lesson.UserName.id)">{{vm.Lesson.UserName.name}}</a></p>
      </div>
      <div class="well">
          <!--<button ng-if="!vm.bookings" ng-click="vm.bookLesson()">Book Lesson</button>-->
        <button ng-if="vm.booked" class="btn btn-primary btn-block disabled">Lesson Homepage</button>
        <button ng-if="vm.booked" class="btn btn-primary btn-block" ng-click="vm.goClassroom(vm.id)">Classroom</button>
        <button ng-if="vm.booked" class="btn btn-primary btn-block" ng-click="vm.goPrivateRoom(vm.id)">One on One Tutoring</button>
        <form ng-if="!vm.booked" action="/api/bookings" method="POST">
          <script
            src="https://checkout.stripe.com/checkout.js" class="stripe-button"
            data-key="pk_test_NySIISDeW4hNZE3ibRCxdCAf"
            data-amount="2499"
            data-name="{{vm.Lesson.name}}"
            data-description="{{vm.Lesson.details}}"
            data-image="https://stripe.com/img/documentation/checkout/marketplace.png"
            data-locale="auto"
            data-label="Buy Lesson Now!">
          </script>
          <input type="hidden" name="UserId" value="{{vm.currUserId}}">
          <input type="hidden" name="LessonId" value="{{vm.Lesson.id}}">
          <input type="hidden" name="details" value="{{vm.Lesson.details}}">
          <input type="hidden" name="Spare1" value="Spare1">
        </form>
      </div>
      <div class="well">
        <h2>Related Lessons</h2><hr/>
        <p ng-repeat="item in vm.relLessons|limitTo:3">
          <a href="" ng-click="vm.goLesson(item.id)">{{item.name}}</a>
        </p>
        <p ng-show="vm.relLessons.length===0">-</p>
        <hr/>
        <p>Become a teacher today and submit a lesson in the <strong>{{vm.Lesson.CategoryName.name}}</strong> category!
      </div>
    </div>
    <div class="col-sm-8 text-left" style="padding-left: 50px;">
      <h1>{{vm.Lesson.name}}</h1>
      <h5>Current rating: {{vm.Lesson.rating}}</h5>
      <h5>Category: {{vm.Lesson.CategoryName.name}}</h5>
      <hr>
      <p>{{vm.Lesson.details}}</p>
      <hr>
      <div class="row">
        <div class="col-sm-offset-2 col-sm-6">
          <img ng-src="{{vm.randGif}}" class="img-rounded"/>
        </div>
        
      </div>
    </div>
  </div>


</div>
